<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مونوگراف کربنات لیتیم (USP)</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Vazirmatn Font -->
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700&display=swap" rel="stylesheet">
    <!-- MathJax -->
    <script type="text/javascript" id="MathJax-script" async
            src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>
    <style>
        body {
            font-family: 'Vazirmatn', sans-serif;
            background-color: #f8fafc;
            color: #333;
        }
        .tab-active {
            border-color: #3b82f6;
            color: #3b82f6;
            font-weight: bold;
        }
        .tab-inactive {
            border-color: transparent;
            color: #6b7280;
        }
        .card {
            background-color: #fff;
            border-radius: 0.5rem;
            padding: 1.5rem;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
        }
        .ltr-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        table {
            width: 100%;
            margin-left: auto;
            margin-right: auto;
            direction: rtl;
            text-align: center;
            border-collapse: collapse;
            margin-top: 1rem;
            margin-bottom: 1rem;
        }
        table th, table td {
            border: 1px solid #e2e8f0;
            padding: 0.75rem;
            text-align: center;
        }
        table th {
            background-color: #f1f5f9;
            font-weight: bold;
        }
        .formula-display {
            display: flex;
            justify-content: center;
            margin-top: 1rem;
            margin-bottom: 1rem;
            direction: ltr;
        }
        .pass-text {
            color: #22c55e;
        }
        .fail-text {
            color: #ef4444;
        }
        .interactive-card {
            background-color: #e0f2fe;
            border: 1px solid #90cdf4;
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 0.5rem;
        }
        .calculation-button {
            background-color: #2563eb;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            font-weight: bold;
            cursor: pointer;
            border: none;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <div class="container mx-auto p-4 max-w-4xl">
        <h1 class="text-3xl font-bold text-center text-blue-700 mb-6">کربنات لیتیم</h1>

        <div class="flex justify-center mb-6 border-b border-gray-200">
            <button class="tab-button py-2 px-4 border-b-2 tab-active" onclick="showTab(event, 'definition')">تعریف</button>
            <button class="tab-button py-2 px-4 border-b-2 tab-inactive" onclick="showTab(event, 'identification')">شناسایی</button>
            <button class="tab-button py-2 px-4 border-b-2 tab-inactive" onclick="showTab(event, 'assay')">سنجش</button>
            <button class="tab-button py-2 px-4 border-b-2 tab-inactive" onclick="showTab(event, 'impurities')">ناخالصی‌ها</button>
            <button class="tab-button py-2 px-4 border-b-2 tab-inactive" onclick="showTab(event, 'specific-tests')">آزمایشات خاص</button>
            <button class="tab-button py-2 px-4 border-b-2 tab-inactive" onclick="showTab(event, 'additional-requirements')">الزامات اضافی</button>
        </div>

        <!-- DEFINITION Tab -->
        <div id="definition" class="tab-content card">
            <h2 class="text-2xl font-semibold text-blue-600 mb-4">تعریف</h2>
            <p class="mb-4">کربنات لیتیم حاوی<span class="ltr-text"> NLT 98.0%</span> و<span class="ltr-text"> NMT 102.0%</span> (USP 1-Aug-2020) کربنات لیتیم (<span class="ltr-text">Li2CO3</span>)، محاسبه شده بر اساس پایه خشک است.</p>
        </div>

        <!-- IDENTIFICATION Tab -->
        <div id="identification" class="tab-content card hidden">
            <h2 class="text-2xl font-semibold text-blue-600 mb-4">شناسایی</h2>
            <h3 class="text-xl font-semibold text-blue-600 mb-2">A.</h3>
            <p class="mb-4">با افزودن اسید، گاز بی‌رنگ متصاعد می‌کند که هنگام عبور از هیدروکسید کلسیم TS، بلافاصله رسوب سفیدی تشکیل می‌دهد.</p>
            <h3 class="text-xl font-semibold text-blue-600 mb-2">B.</h3>
            <p class="mb-4">زمان ماند پیک لیتیم محلول نمونه با زمان ماند پیک لیتیم محلول استاندارد، همانطور که در سنجش به دست می‌آید، مطابقت دارد. (USP 1-Aug-2020)</p>
        </div>

        <!-- ASSAY Tab -->
        <div id="assay" class="tab-content card hidden">
            <h2 class="text-2xl font-semibold text-blue-600 mb-4">سنجش</h2>
            <h4 class="text-lg font-semibold text-gray-700 mt-3 mb-2">روش انجام</h4>
            <p class="mb-4">ظروف پلیمری، مانند ظروف ساخته شده از پلی‌متیل‌پنتن (PMP)، در تهیه محلول استاندارد و محلول نمونه استفاده می‌شوند. برای تهیه محلول‌ها از آب با مقاومت<span class="ltr-text"> NLT 18 megohm-cm</span> استفاده کنید.</p>
            <p class="mb-4"><span class="font-bold">فاز متحرک:</span> 35 میلی مولار اسید متان‌سولفونیک در آب.</p>
            <p class="mb-4">[نکته — توصیه می‌شود از یک تکنیک مناسب تله‌گذاری کاتیونی برای اطمینان از اینکه فاز متحرک به اندازه کافی عاری از ناخالصی‌های کاتیونی است، استفاده شود.]</p>
            <p class="mb-4"><span class="font-bold">رقیق‌کننده:</span> 0.01 نرم اسید کلریدریک</p>
            <p class="mb-4"><span class="font-bold">محلول استاندارد:</span> 100 میکروگرم بر میلی‌لیتر از USP Lithium Carbonate RS در رقیق‌کننده</p>
            <p class="mb-4"><span class="font-bold">محلول نمونه:</span> 100 میکروگرم بر میلی‌لیتر از کربنات لیتیم در رقیق‌کننده</p>
            <p class="mb-4"><span class="font-bold">سیستم کروماتوگرافی</span></p>
            <p class="mb-4">(به کروماتوگرافی <a href="General chapters/621.html" class="text-blue-600 hover:underline" target="_blank">621</a>، آمادگی سیستم مراجعه کنید.)</p>
            <p class="mb-4"><span class="font-bold">حالت:</span> LC</p>
            <p class="mb-4"><span class="font-bold">آشکارساز:</span> رسانایی با سرکوب</p>
            <p class="mb-4"><span class="font-bold">ستون‌ها</span></p>
            <p class="mb-4">گارد: 5 میلی‌متر × 5 سانتی‌متر؛ بسته‌بندی 5.5 میکرومتری L84</p>
            <p class="mb-4">تحلیلی: 5 میلی‌متر × 25 سانتی‌متر؛ بسته‌بندی 5.5 میکرومتری L84</p>
            <p class="mb-4"><span class="font-bold">دمای ستون:</span> 50 درجه</p>
            <p class="mb-4"><span class="font-bold">نرخ جریان:</span> 1 میلی‌لیتر در دقیقه</p>
            <p class="mb-4"><span class="font-bold">حجم تزریق:</span> 10 میکرولیتر</p>
            <p class="mb-4"><span class="font-bold">زمان اجرا:</span> NLT 5 برابر زمان ماند لیتیم</p>
            <p class="mb-4"><span class="font-bold">آمادگی سیستم</span></p>
            <p class="mb-4"><span class="font-bold">نمونه:</span> محلول استاندارد</p>
            <p class="mb-4"><span class="font-bold">شرایط آمادگی:</span></p>
            <p class="mb-4">ضریب پسا: NMT 1.2</p>
            <p class="mb-4">انحراف معیار نسبی: NMT 1.5%</p>
            <p class="mb-4"><span class="font-bold">تجزیه و تحلیل</span></p>
            <p class="mb-4"><span class="font-bold">نمونه‌ها:</span> محلول استاندارد و محلول نمونه</p>
            <p class="mb-4">درصد کربنات لیتیم (<span class="ltr-text">Li2CO3</span>) را در بخش گرفته شده کربنات لیتیم محاسبه کنید:</p>
            <div class="formula-display">
                <p>$$Result = (r_U/r_S) \times (C_S/C_U) \times 100$$</p>
            </div>
            <p class="mb-4"><span class="font-bold">rU</span> = پاسخ پیک لیتیم از محلول نمونه</p>
            <p class="mb-4"><span class="font-bold">rS</span> = پاسخ پیک لیتیم از محلول استاندارد</p>
            <p class="mb-4"><span class="font-bold">CS</span> = غلظت USP Lithium Carbonate RS در محلول استاندارد (میکروگرم بر میلی‌لیتر)</p>
            <p class="mb-4"><span class="font-bold">CU</span> = غلظت کربنات لیتیم در محلول نمونه (میکروگرم بر میلی‌لیتر)</p>
            <p class="mb-4">(USP 1-Aug-2020)</p>
            <p class="mb-4"><span class="font-bold">معیارهای پذیرش:</span> <span class="ltr-text">98.0%–102.0%</span> (USP 1-Aug-2020) بر اساس پایه خشک</p>

            <div class="card interactive-card">
                <h4 class="text-lg font-semibold text-gray-700 mt-3 mb-2">ماشین حساب سنجش</h4>
                <div class="formula-display">
                    <p>$$Result = (r_U/r_S) \times (C_S/C_U) \times 100$$</p>
                </div>
                <div>
                    <label for="rU" class="block text-sm font-medium text-gray-700">پاسخ پیک نمونه (rU):</label>
                    <input type="text" id="rU" name="rU" class="input-field">
                </div>
                <div>
                    <label for="rS" class="block text-sm font-medium text-gray-700">پاسخ پیک استاندارد (rS):</label>
                    <input type="text" id="rS" name="rS" class="input-field">
                </div>
                <div>
                    <label for="CS" class="block text-sm font-medium text-gray-700">غلظت استاندارد (CS) (µg/mL):</label>
                    <input type="text" id="CS" name="CS" class="input-field">
                </div>
                <div>
                    <label for="CU" class="block text-sm font-medium text-gray-700">غلظت نمونه (CU) (µg/mL):</label>
                    <input type="text" id="CU" name="CU" class="input-field">
                </div>
                <button class="calculation-button" onclick="calculateAssay()">محاسبه</button>
                <div class="mt-4">
                    <p>نتیجه: <span id="assayResult" class="font-bold"></span></p>
                    <p>وضعیت: <span id="assayStatus" class="font-bold"></span></p>
                </div>
                <div class="mt-2">
                    <label for="assay-additional-spec" class="block text-sm font-medium text-gray-700">توضیحات اضافه / Additional Specifications:</label>
                    <textarea id="assay-additional-spec" name="assay-additional-spec" rows="3" class="additional-spec-input shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"></textarea>
                </div>
            </div>
        </div>

        <!-- IMPURITIES Tab -->
        <div id="impurities" class="tab-content card hidden">
            <h2 class="text-2xl font-semibold text-blue-600 mb-4">ناخالصی‌ها</h2>
            <h3 class="text-xl font-semibold text-blue-600 mb-2">آلومینیوم و آهن</h3>
            <p class="mb-4"><span class="font-bold">محلول نمونه:</span> 500 میلی‌گرم کربنات لیتیم را در 10 میلی‌لیتر آب با افزودن قطره‌ای اسید کلریدریک و هم زدن، حل کنید.</p>
            <p class="mb-4"><span class="font-bold">تجزیه و تحلیل:</span> محلول نمونه را بجوشانید، سپس آن را خنک کنید. به 5 میلی‌لیتر محلول، هیدروکسید آمونیوم 6 نرم را تا زمانی که واکنش قلیایی شود، اضافه کنید.</p>
            <p class="mb-4"><span class="font-bold">معیارهای پذیرش:</span> هیچ کدورت یا رسوبی مشاهده نمی‌شود.</p>

            <h3 class="text-xl font-semibold text-blue-600 mb-2">کلسیم و سدیم</h3>
            <p class="mb-4"><span class="font-bold">فاز متحرک، رقیق‌کننده، محلول نمونه، و سیستم کروماتوگرافی:</span> طبق رویه در سنجش عمل کنید.</p>
            <p class="mb-4"><span class="font-bold">محلول آمادگی سیستم:</span> 100 میکروگرم بر میلی‌لیتر USP Lithium Carbonate RS، 0.1 میکروگرم بر میلی‌لیتر یون سدیم، و 0.15 میکروگرم بر میلی‌لیتر یون کلسیم (از محلول‌های استاندارد یون سدیم و کلسیم کروماتوگرافی یونی قابل ردیابی NIST که به صورت تجاری موجود هستند) در رقیق‌کننده</p>
            <p class="mb-4"><span class="font-bold">محلول استاندارد:</span> 0.1 میکروگرم بر میلی‌لیتر یون سدیم و 0.15 میکروگرم بر میلی‌لیتر یون کلسیم (از محلول‌های استاندارد یون سدیم و کلسیم کروماتوگرافی یونی قابل ردیابی NIST که به صورت تجاری موجود هستند) در رقیق‌کننده</p>
            <p class="mb-4"><span class="font-bold">آمادگی سیستم</span></p>
            <p class="mb-4"><span class="font-bold">نمونه‌ها:</span> محلول آمادگی سیستم و محلول استاندارد</p>
            <p class="mb-4">[نکته — زمان‌های ماند نسبی لیتیم، سدیم و کلسیم به ترتیب 1.0، 1.3 و 3.5 است.]</p>
            <p class="mb-4"><span class="font-bold">شرایط آمادگی</span></p>
            <p class="mb-4">وضوح: NLT 4.0 بین یون‌های لیتیم و سدیم، محلول آمادگی سیستم</p>
            <p class="mb-4">ضریب پسا: NMT 1.5 برای یون‌های سدیم و کلسیم، محلول آمادگی سیستم</p>
            <p class="mb-4">انحراف معیار نسبی: NMT 5.0% برای یون‌های سدیم و کلسیم، محلول استاندارد</p>
            <p class="mb-4"><span class="font-bold">تجزیه و تحلیل</span></p>
            <p class="mb-4"><span class="font-bold">نمونه‌ها:</span> محلول استاندارد و محلول نمونه</p>
            <p class="mb-4">درصد سدیم یا کلسیم را در بخش گرفته شده کربنات لیتیم محاسبه کنید:</p>
            <div class="formula-display">
                <p>$$Result = (r_U/r_S) \times (C_S/C_U) \times 100$$</p>
            </div>
            <p class="mb-4"><span class="font-bold">rU</span> = پاسخ پیک سدیم یا کلسیم از محلول نمونه</p>
            <p class="mb-4"><span class="font-bold">rS</span> = پاسخ پیک سدیم یا کلسیم از محلول استاندارد</p>
            <p class="mb-4"><span class="font-bold">CS</span> = غلظت سدیم یا کلسیم در محلول استاندارد (میکروگرم بر میلی‌لیتر)</p>
            <p class="mb-4"><span class="font-bold">CU</span> = غلظت کربنات لیتیم در محلول نمونه (میکروگرم بر میلی‌لیتر)</p>
            <p class="mb-4"><span class="font-bold">معیارهای پذیرش</span></p>
            <p class="mb-4">کلسیم: NMT 0.15%</p>
            <p class="mb-4">سدیم: NMT 0.1% (USP 1-Aug-2020)</p>
            <div class="card interactive-card">
                <h4 class="text-lg font-semibold text-gray-700 mt-3 mb-2">ماشین حساب کلسیم و سدیم</h4>
                <p class="mb-2">از فرمول زیر برای محاسبه درصد سدیم یا کلسیم استفاده کنید:</p>
                <div class="formula-display">
                    <p>$$Result = (r_U/r_S) \times (C_S/C_U) \times 100$$</p>
                </div>
                <div>
                    <label for="imp_rU" class="block text-sm font-medium text-gray-700">پاسخ پیک نمونه (rU):</label>
                    <input type="text" id="imp_rU" name="imp_rU" class="input-field">
                </div>
                <div>
                    <label for="imp_rS" class="block text-sm font-medium text-gray-700">پاسخ پیک استاندارد (rS):</label>
                    <input type="text" id="imp_rS" name="imp_rS" class="input-field">
                </div>
                <div>
                    <label for="imp_CS" class="block text-sm font-medium text-gray-700">غلظت استاندارد (CS) (µg/mL):</label>
                    <input type="text" id="imp_CS" name="imp_CS" class="input-field">
                </div>
                <div>
                    <label for="imp_CU" class="block text-sm font-medium text-gray-700">غلظت نمونه (CU) (µg/mL):</label>
                    <input type="text" id="imp_CU" name="imp_CU" class="input-field">
                </div>
                <button class="calculation-button" onclick="calculateImpurities()">محاسبه</button>
                <div class="mt-4">
                    <p>نتیجه: <span id="impuritiesResult" class="font-bold"></span></p>
                    <p>وضعیت: <span id="impuritiesStatus" class="font-bold"></span></p>
                </div>
                 <div class="mt-2">
                    <label for="impurities-additional-spec" class="block text-sm font-medium text-gray-700">توضیحات اضافه / Additional Specifications:</label>
                    <textarea id="impurities-additional-spec" name="impurities-additional-spec" rows="3" class="additional-spec-input shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"></textarea>
                </div>
            </div>

            <h3 class="text-xl font-semibold text-blue-600 mb-2">کلرید و سولفات <a href="General chapters/221.html" class="text-blue-600 hover:underline" target="_blank">221</a>، سولفات</h3>
            <p class="mb-4"><span class="font-bold">محلول استاندارد:</span> 1 میلی‌لیتر از اسید سولفوریک 0.020 نرم و 1 میلی‌لیتر اسید کلریدریک 3 نرم را به یک ظرف مناسب منتقل کنید. با آب تا حجم 40 میلی‌لیتر رقیق کنید.</p>
            <p class="mb-4"><span class="font-bold">محلول نمونه:</span> 1.0 گرم کربنات لیتیم را به یک ظرف مناسب منتقل کنید. 10 میلی‌لیتر اسید کلریدریک 3 نرم را اضافه کنید. با آب تا حجم 40 میلی‌لیتر رقیق کنید.</p>
            <p class="mb-4"><span class="font-bold">تجزیه و تحلیل:</span> به طور جداگانه، 1 میلی‌لیتر کلرید باریم TS را به محلول استاندارد و محلول نمونه اضافه کنید.</p>
            <p class="mb-4"><span class="font-bold">معیارهای پذیرش:</span> کدورت تولید شده در محلول نمونه، پس از 3 دقیقه، NMT کدورت تولید شده در محلول استاندارد است (0.1%).</p>
            <div class="card interactive-card">
                <h4 class="text-lg font-semibold text-gray-700 mt-3 mb-2">وضعیت کلرید و سولفات (سولفات)</h4>
                <label for="sulfate-status" class="block text-sm font-medium text-gray-700">وضعیت:</label>
                <select id="sulfate-status" name="sulfate-status" class="status-dropdown shadow appearance-none border border-gray-300 bg-white rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline w-48">
                    <option value=""></option>
                    <option value="Pass">قبول</option>
                    <option value="Fail">رد</option>
                </select>
                 <div class="mt-2">
                    <label for="sulfate-additional-spec" class="block text-sm font-medium text-gray-700">توضیحات اضافه / Additional Specifications:</label>
                    <textarea id="sulfate-additional-spec" name="sulfate-additional-spec" rows="3" class="additional-spec-input shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"></textarea>
                </div>
            </div>

            <h3 class="text-xl font-semibold text-blue-600 mb-2">کلرید و سولفات <a href="General chapters/221.html" class="text-blue-600 hover:underline" target="_blank">221</a>، کلرید</h3>
            <p class="mb-4"><span class="font-bold">محلول استاندارد:</span> 0.5 میلی‌لیتر از اسید کلریدریک 0.02 نرم و 1.2 میلی‌لیتر اسید نیتریک را به یک ظرف مناسب منتقل کنید. با آب تا حجم 50 میلی‌لیتر رقیق کنید.</p>
            <p class="mb-4"><span class="font-bold">محلول نمونه:</span> 500 میلی‌گرم کربنات لیتیم را به یک ظرف مناسب منتقل کنید. 1.2 میلی‌لیتر اسید نیتریک را اضافه کنید. با آب تا حجم 50 میلی‌لیتر رقیق کنید.</p>
            <p class="mb-4"><span class="font-bold">تجزیه و تحلیل:</span> به طور جداگانه، 1 میلی‌لیتر نیترات نقره TS را به محلول استاندارد و محلول نمونه اضافه کنید.</p>
            <p class="mb-4"><span class="font-bold">معیارهای پذیرش:</span> کدورت تولید شده در محلول نمونه NMT کدورت تولید شده در محلول استاندارد است (0.07%).</p>
            <div class="card interactive-card">
                <h4 class="text-lg font-semibold text-gray-700 mt-3 mb-2">وضعیت کلرید و سولفات (کلرید)</h4>
                <label for="chloride-status" class="block text-sm font-medium text-gray-700">وضعیت:</label>
                <select id="chloride-status" name="chloride-status" class="status-dropdown shadow appearance-none border border-gray-300 bg-white rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline w-48">
                    <option value=""></option>
                    <option value="Pass">قبول</option>
                    <option value="Fail">رد</option>
                </select>
                 <div class="mt-2">
                    <label for="chloride-additional-spec" class="block text-sm font-medium text-gray-700">توضیحات اضافه / Additional Specifications:</label>
                    <textarea id="chloride-additional-spec" name="chloride-additional-spec" rows="3" class="additional-spec-input shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"></textarea>
                </div>
            </div>
        </div>

        <!-- SPECIFIC TESTS Tab -->
        <div id="specific-tests" class="tab-content card hidden">
            <h2 class="text-2xl font-semibold text-blue-600 mb-4">آزمایشات خاص</h2>
            <h3 class="text-xl font-semibold text-blue-600 mb-2">از دست دادن در هنگام خشک شدن <a href="General chapters/731.html" class="text-blue-600 hover:underline" target="_blank">731</a></h3>
            <p class="mb-4"><span class="font-bold">تجزیه و تحلیل:</span> در دمای 200 درجه به مدت 4 ساعت خشک کنید.</p>
            <p class="mb-4"><span class="font-bold">معیارهای پذیرش:</span> NMT 1.0%</p>

            <div class="card interactive-card">
                <h4 class="text-lg font-semibold text-gray-700 mt-3 mb-2">ماشین حساب از دست دادن در هنگام خشک شدن</h4>
                <div class="formula-display">
                    <p>$$LOD = \frac{(W_1 + W_{sa}) - W_2}{W_{sa}} \times 100$$</p>
                </div>
                <div>
                    <label for="lod_w1" class="block text-sm font-medium text-gray-700">وزن نمونه مرطوب (W1):</label>
                    <input type="text" id="lod_w1" name="lod_w1" class="input-field">
                </div>
                 <div>
                    <label for="lod_wsa" class="block text-sm font-medium text-gray-700">وزن نمونه خشک شده (Wsa):</label>
                    <input type="text" id="lod_wsa" name="lod_wsa" class="input-field">
                </div>
                 <div>
                    <label for="lod_w2" class="block text-sm font-medium text-gray-700">وزن نمونه پس از خشک شدن (W2):</label>
                    <input type="text" id="lod_w2" name="lod_w2" class="input-field">
                </div>
                <button class="calculation-button" onclick="calculateLossOnDrying()">محاسبه</button>
                <div class="mt-4">
                    <p>نتیجه: <span id="lodResult" class="font-bold"></span></p>
                    <p>وضعیت: <span id="lodStatus" class="font-bold"></span></p>
                </div>
                 <div class="mt-2">
                    <label for="lod-additional-spec" class="block text-sm font-medium text-gray-700">توضیحات اضافه / Additional Specifications:</label>
                    <textarea id="lod-additional-spec" name="lod-additional-spec" rows="3" class="additional-spec-input shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"></textarea>
                </div>
            </div>
        </div>

        <!-- ADDITIONAL REQUIREMENTS Tab -->
        <div id="additional-requirements" class="tab-content card hidden">
            <h2 class="text-2xl font-semibold text-blue-600 mb-4">الزامات اضافی</h2>
            <h3 class="text-xl font-semibold text-blue-600 mb-2">بسته‌بندی و نگهداری</h3>
            <p class="mb-4">در ظروف کاملاً بسته نگهداری شود.</p>
            <h3 class="text-xl font-semibold text-blue-600 mb-2">استانداردهای مرجع USP <a href="General chapters/11.html" class="text-blue-600 hover:underline" target="_blank">11</a></h3>
            <p class="mb-4">USP Lithium Carbonate RS</p>
            <p class="mb-4">(USP 1-Aug-2020)</p>
        </div>

    </div>

    <script>
        function showTab(event, tabId) {
            // Hide all tab content
            var tabContents = document.getElementsByClassName("tab-content");
            for (var i = 0; i < tabContents.length; i++) {
                tabContents[i].classList.add("hidden");
            }

            // Remove active class from all tab buttons
            var tabButtons = document.getElementsByClassName("tab-button");
            for (var i = 0; i < tabButtons.length; i++) {
                tabButtons[i].classList.remove("tab-active");
                tabButtons[i].classList.add("tab-inactive");
            }

            // Show the specific tab content
            document.getElementById(tabId).classList.remove("hidden");

            // Add active class to the clicked tab button
            event.currentTarget.classList.remove("tab-inactive");
            event.currentTarget.classList.add("tab-active");
        }

        // Function to calculate Assay
        function calculateAssay() {
            const rU = parseFloat(document.getElementById('rU').value);
            const rS = parseFloat(document.getElementById('rS').value);
            const CS = parseFloat(document.getElementById('CS').value);
            const CU = parseFloat(document.getElementById('CU').value);

            if (isNaN(rU) || isNaN(rS) || isNaN(CS) || isNaN(CU) || rS === 0 || CU === 0) {
                document.getElementById('assayResult').textContent = "خطا";
                document.getElementById('assayStatus').textContent = "";
                return;
            }

            const result = (rU / rS) * (CS / CU) * 100;
            const acceptanceMin = 98.0;
            const acceptanceMax = 102.0;

            let status = "";
            let resultClass = "";
            if (result >= acceptanceMin && result <= acceptanceMax) {
                status = "قبول";
                resultClass = "pass-text";
            } else {
                status = "رد";
                resultClass = "fail-text";
            }

            document.getElementById('assayResult').textContent = result.toFixed(2) + "%";
            document.getElementById('assayStatus').textContent = status;
            document.getElementById('assayStatus').className = `font-bold ${resultClass}`;
        }

        // Function to calculate Impurities (Calcium and Sodium)
        function calculateImpurities() {
            const imp_rU = parseFloat(document.getElementById('imp_rU').value);
            const imp_rS = parseFloat(document.getElementById('imp_rS').value);
            const imp_CS = parseFloat(document.getElementById('imp_CS').value);
            const imp_CU = parseFloat(document.getElementById('imp_CU').value);

            if (isNaN(imp_rU) || isNaN(imp_rS) || isNaN(imp_CS) || isNaN(imp_CU) || imp_rS === 0 || imp_CU === 0) {
                document.getElementById('impuritiesResult').textContent = "خطا";
                document.getElementById('impuritiesStatus').textContent = "";
                return;
            }

            const result = (imp_rU / imp_rS) * (imp_CS / imp_CU) * 100;
            const acceptanceCaMax = 0.15;
            const acceptanceNaMax = 0.1;
            const impurityType = "کلسیم"; // Assuming this calculation is for Calcium by default
            const acceptanceMax = (impurityType === "کلسیم") ? acceptanceCaMax : acceptanceNaMax;

            let status = "";
            let resultClass = "";
            if (result <= acceptanceMax) {
                status = "قبول";
                resultClass = "pass-text";
            } else {
                status = "رد";
                resultClass = "fail-text";
            }

            document.getElementById('impuritiesResult').textContent = result.toFixed(4) + "%";
            document.getElementById('impuritiesStatus').textContent = status;
            document.getElementById('impuritiesStatus').className = `font-bold ${resultClass}`;
        }

         // Function to calculate Loss On Drying
        function calculateLossOnDrying() {
            const w1 = parseFloat(document.getElementById('lod_w1').value);
            const wsa = parseFloat(document.getElementById('lod_wsa').value);
            const w2 = parseFloat(document.getElementById('lod_w2').value);

            if (isNaN(w1) || isNaN(wsa) || isNaN(w2) || wsa === 0) {
                document.getElementById('lodResult').textContent = "خطا";
                document.getElementById('lodStatus').textContent = "";
                return;
            }

            const result = ((w1 + wsa) - w2) / wsa * 100;
            const acceptanceMax = 1.0;

            let status = "";
            let resultClass = "";
            if (result <= acceptanceMax) {
                status = "قبول";
                resultClass = "pass-text";
            } else {
                status = "رد";
                resultClass = "fail-text";
            }

            document.getElementById('lodResult').textContent = result.toFixed(2) + "%";
            document.getElementById('lodStatus').textContent = status;
            document.getElementById('lodStatus').className = `font-bold ${resultClass}`;
        }

        // Initialize the first tab to be visible
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelector('.tab-button').click();
        });
    </script>

</body>
</html>