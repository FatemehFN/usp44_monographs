<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مونوگراف اسید فولیک (USP)</title>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <style>
        body {
            font-family: 'Vazirmatn', sans-serif;
            background-color: #f8fafc;
            color: #333;
        }
        .tab-active {
            border-color: #3b82f6;
            color: #3b82f6;
            font-weight: bold;
        }
        .tab-inactive {
            border-color: transparent;
            color: #6b7280;
        }
        .card {
            background-color: #fff;
            border-radius: 0.5rem;
            padding: 1.5rem;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
        }
        .ltr-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        table {
            width: 100%;
            margin-left: auto;
            margin-right: auto;
            direction: rtl;
            text-align: center;
            border-collapse: collapse;
            margin-top: 1rem;
            margin-bottom: 1rem;
        }
        table th, table td {
            border: 1px solid #e2e8f0;
            padding: 0.75rem;
            text-align: center;
        }
        table th {
            background-color: #f1f5f9;
            font-weight: bold;
        }
        .formula-display {
            display: flex;
            justify-content: center;
            margin-top: 1rem;
            margin-bottom: 1rem;
            direction: ltr;
        }
        .pass-text {
            color: #22c55e;
        }
        .fail-text {
            color: #ef4444;
        }
        .interactive-card {
            background-color: #e0f2fe;
            border: 1px solid #90cdf4;
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 0.5rem;
        }
        .calculation-button {
            background-color: #2563eb;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            font-weight: bold;
            cursor: pointer;
            border: none;
        }
        .additional-spec-input {
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            border: 1px solid #d1d5db; /* Light gray border */
        }
        .status-dropdown {
             box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            border: 1px solid #d1d5db; /* Light gray border */
        }
    </style>
</head>
<body>
    <div class="container mx-auto p-4 max-w-4xl">

        <h1 class="text-3xl font-bold text-center text-blue-700 mb-6">اسید فولیک (USP)</h1>

        <div class="flex justify-center mb-6 border-b border-gray-200">
            <button class="tab-button py-2 px-4 border-b-2 tab-active" onclick="showTab('definition')">تعریف</button>
            <button class="tab-button py-2 px-4 border-b-2 tab-inactive" onclick="showTab('identification')">شناسایی</button>
            <button class="tab-button py-2 px-4 border-b-2 tab-inactive" onclick="showTab('assay')">سنجش</button>
            <button class="tab-button py-2 px-4 border-b-2 tab-inactive" onclick="showTab('impurities')">ناخالصی‌ها</button>
            <button class="tab-button py-2 px-4 border-b-2 tab-inactive" onclick="showTab('specific-tests')">آزمایشات خاص</button>
            <button class="tab-button py-2 px-4 border-b-2 tab-inactive" onclick="showTab('additional-requirements')">الزامات اضافی</button>
        </div>

        <div id="definition" class="tab-content">
            <div class="card">
                <h2 class="text-2xl font-semibold text-blue-600 mb-4">تعریف</h2>
                <p class="mb-4">اسید فولیک شامل <span class="ltr-text">NLT 97.0%</span> و <span class="ltr-text">NMT 102.0%</span> اسید فولیک (<span class="ltr-text">C19H19N7O6</span>) است، که بر اساس پایه انیدروس محاسبه می‌شود.</p>
            </div>
        </div>

        <div id="identification" class="tab-content hidden">
            <div class="card">
                <h2 class="text-2xl font-semibold text-blue-600 mb-4">شناسایی</h2>
                <h3 class="text-xl font-semibold text-blue-600 mb-2">تغییر به شرح زیر:</h3>
                <h4 class="text-lg font-semibold text-gray-700 mt-3 mb-2">• تست‌های شناسایی طیف‌سنجی</h4>
                <p class="mb-4">طیف‌سنجی فرابنفش-مرئی: <span class="ltr-text">197U</span> (CN 1-May-2020)</p>
                <p class="mb-4">محلول نمونه: <span class="ltr-text">10 µg/mL</span> در محلول سدیم هیدروکسید <span class="ltr-text">0.1 N</span></p>
                <p class="mb-4">معیارهای پذیرش: الزامات را برآورده می‌کند. نسبت <span class="ltr-text">A256/A365</span> برابر <span class="ltr-text">2.80–3.00</span> است.</p>
            </div>
        </div>

        <div id="assay" class="tab-content hidden">
            <div class="card">
                <h2 class="text-2xl font-semibold text-blue-600 mb-4">سنجش</h2>
                <h4 class="text-lg font-semibold text-gray-700 mt-3 mb-2">• رویه</h4>
                <p class="mb-4">[<strong>نکته:</strong> در طول رویه زیر از ظروف شیشه‌ای کم‌نور استفاده کنید.]</p>
                <p class="mb-4"><span class="ltr-text">3 N</span> اسید فسفریک: <span class="ltr-text">98 g/L</span> اسید فسفریک در آب</p>
                <p class="mb-4"><span class="ltr-text">6 N</span> آمونیوم هیدروکسید: <span class="ltr-text">40 mL</span> آمونیوم هیدروکسید را با آب به حجم <span class="ltr-text">100 mL</span> برسانید.</p>
                <p class="mb-4">فاز متحرک: <span class="ltr-text">2.0 g</span> پتاسیم دی‌هیدروژن فسفات را در یک فلاسک حجمی <span class="ltr-text">1000-mL</span> منتقل کرده و در <span class="ltr-text">650 mL</span> آب حل کنید. <span class="ltr-text">15.0 mL</span> از محلول <span class="ltr-text">0.5 M</span> تترا بوتیل آمونیوم هیدروکسید در متانول، <span class="ltr-text">7.0 mL</span> اسید فسفریک <span class="ltr-text">3 N</span> و <span class="ltr-text">270 mL</span> متانول اضافه کنید. تا دمای اتاق خنک کنید، با اسید فسفریک <span class="ltr-text">3 N</span> یا آمونیوم هیدروکسید <span class="ltr-text">6 N</span> pH را به <span class="ltr-text">5.0</span> تنظیم کرده و با آب به حجم برسانید. قبل از استفاده مجدداً pH را بررسی کنید.</p>
                <p class="mb-4">محلول استاندارد داخلی: <span class="ltr-text">2 mg/mL</span> متیل پارابن در فاز متحرک. ابتدا متیل پارابن را با متانول (حدود <span class="ltr-text">4%</span> از حجم نهایی) حل کرده و سپس با فاز متحرک به حجم برسانید.</p>
                <p class="mb-4">محلول استوک استاندارد: <span class="ltr-text">1 mg/mL</span> USP Folic Acid RS در فاز متحرک. اسید فولیک را با کمک <span class="ltr-text">10%</span> آمونیوم هیدروکسید (حدود <span class="ltr-text">1%</span> از حجم نهایی) حل کرده و با فاز متحرک به حجم برسانید.</p>
                <p class="mb-4">محلول استاندارد: <span class="ltr-text">4.0 mL</span> از محلول استوک استاندارد و <span class="ltr-text">4.0 mL</span> از محلول استاندارد داخلی را به یک فلاسک حجمی <span class="ltr-text">50-mL</span> منتقل کرده و با فاز متحرک به حجم برسانید.</p>
                <p class="mb-4">محلول استوک نمونه: <span class="ltr-text">100 mg</span> اسید فولیک را به یک فلاسک حجمی <span class="ltr-text">100-mL</span> منتقل کرده و در <span class="ltr-text">40 mL</span> فاز متحرک و <span class="ltr-text">1 mL</span> از <span class="ltr-text">10%</span> آمونیوم هیدروکسید حل کنید. با فاز متحرک به حجم برسانید.</p>
                <p class="mb-4">محلول نمونه: <span class="ltr-text">4.0 mL</span> از محلول استوک نمونه و <span class="ltr-text">4.0 mL</span> از محلول استاندارد داخلی را به یک فلاسک حجمی <span class="ltr-text">50-mL</span> منتقل کرده و با فاز متحرک به حجم برسانید.</p>
                <h4 class="text-lg font-semibold text-gray-700 mt-3 mb-2">سیستم کروماتوگرافی</h4>
                <p class="mb-4">(به کروماتوگرافی <span class="ltr-text">á621ñ</span>، مناسب بودن سیستم مراجعه کنید.)</p>
                <p class="mb-4">حالت: LC</p>
                <p class="mb-4">آشکارساز: UV <span class="ltr-text">280 nm</span></p>
                <p class="mb-4">ستون: <span class="ltr-text">4.0-mm × 25-cm</span>؛ بسته‌بندی <span class="ltr-text">L1</span></p>
                <p class="mb-4">نرخ جریان: <span class="ltr-text">1.2 mL/min</span></p>
                <p class="mb-4">حجم تزریق: <span class="ltr-text">10 µL</span></p>
                <h4 class="text-lg font-semibold text-gray-700 mt-3 mb-2">مناسب بودن سیستم</h4>
                <p class="mb-4">نمونه: محلول استاندارد</p>
                <p class="mb-4">الزامات مناسب بودن</p>
                <p class="mb-4">رزولوشن: <span class="ltr-text">NLT 3.6</span> بین متیل پارابن و اسید فولیک</p>
                <p class="mb-4">انحراف معیار نسبی: <span class="ltr-text">NMT 2.0%</span> برای نسبت مساحت پیک اسید فولیک به مساحت پیک استاندارد داخلی</p>
                <h4 class="text-lg font-semibold text-gray-700 mt-3 mb-2">تجزیه و تحلیل</h4>
                <p class="mb-4">نمونه‌ها: محلول استاندارد و محلول نمونه</p>
                <p class="mb-4">درصد اسید فولیک (<span class="ltr-text">C19H19N7O6</span>) در نمونه گرفته شده را محاسبه کنید:</p>
                <div class="formula-display">
                    <code class="math-tex">$$Result = (RU/RS) \times (CS/CU) \times 100$$</code>
                </div>
                <p class="mb-4"><span class="ltr-text">RU</span> = نسبت استاندارد داخلی (پاسخ پیک اسید فولیک/پاسخ استاندارد داخلی) از محلول نمونه</p>
                <p class="mb-4"><span class="ltr-text">RS</span> = نسبت استاندارد داخلی (پاسخ پیک اسید فولیک/پاسخ استاندارد داخلی) از محلول استاندارد</p>
                <p class="mb-4"><span class="ltr-text">CS</span> = غلظت USP Folic Acid RS در محلول استوک استاندارد (<span class="ltr-text">mg/mL</span>)</p>
                <p class="mb-4"><span class="ltr-text">CU</span> = غلظت اسید فولیک در محلول استوک نمونه (<span class="ltr-text">mg/mL</span>)</p>
                <p class="mb-4">معیارهای پذیرش: <span class="ltr-text">97.0%–102.0%</span> بر اساس پایه انیدروس</p>

                <div class="card interactive-card">
                    <h3 class="text-xl font-semibold text-blue-600 mb-2">محاسبه سنجش</h3>
                    <div class="formula-display">
                        <code class="math-tex">$$Result = (RU/RS) \times (CS/CU) \times 100$$</code>
                    </div>
                    <div>
                        <label for="RU" class="block text-gray-700 text-sm font-bold mb-1">RU (پاسخ پیک اسید فولیک/پاسخ استاندارد داخلی - نمونه):</label>
                        <input type="text" id="RU" name="RU" class="ltr-text shadow appearance-none border border-gray-300 bg-white rounded w-64 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline my-2">
                    </div>
                    <div>
                        <label for="RS" class="block text-gray-700 text-sm font-bold mb-1">RS (پاسخ پیک اسید فولیک/پاسخ استاندارد داخلی - استاندارد):</label>
                        <input type="text" id="RS" name="RS" class="ltr-text shadow appearance-none border border-gray-300 bg-white rounded w-64 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline my-2">
                    </div>
                    <div>
                        <label for="CS" class="block text-gray-700 text-sm font-bold mb-1">CS (غلظت USP Folic Acid RS در محلول استوک استاندارد mg/mL):</label>
                        <input type="text" id="CS" name="CS" class="ltr-text shadow appearance-none border border-gray-300 bg-white rounded w-64 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline my-2">
                    </div>
                    <div>
                        <label for="CU" class="block text-gray-700 text-sm font-bold mb-1">CU (غلظت اسید فولیک در محلول استوک نمونه mg/mL):</label>
                        <input type="text" id="CU" name="CU" class="ltr-text shadow appearance-none border border-gray-300 bg-white rounded w-64 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline my-2">
                    </div>
                    <button class="calculation-button mt-4" onclick="calculateAssay()">محاسبه</button>
                    <div class="mt-4">
                        <p>نتیجه: <span id="assayResult" class="font-bold"></span></p>
                        <p>وضعیت: <span id="assayStatus" class="font-bold"></span></p>
                    </div>
                    <div>
                        <label for="additional-spec-assay" class="block text-gray-700 text-sm font-bold my-2">توضیحات اضافه / Additional Specifications:</label>
                        <textarea id="additional-spec-assay" name="additional-spec-assay" rows="3" class="additional-spec-input shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"></textarea>
                    </div>
                </div>
            </div>
        </div>

        <div id="impurities" class="tab-content hidden">
            <div class="card">
                <h2 class="text-2xl font-semibold text-blue-600 mb-4">ناخالصی‌ها</h2>
                <h4 class="text-lg font-semibold text-gray-700 mt-3 mb-2">• باقیمانده در اثر احتراق <span class="ltr-text">á281ñ</span>: <span class="ltr-text">NMT 0.3%</span></h4>
                <div class="card interactive-card">
                    <h3 class="text-xl font-semibold text-blue-600 mb-2">حد باقیمانده در اثر احتراق</h3>
                    <div class="formula-display">
                        <code class="math-tex">$$ROI = \frac{W_3 - W_1}{W_2} \times 100$$</code>
                    </div>
                    <div>
                        <label for="W1_roi" class="block text-gray-700 text-sm font-bold mb-1">W1 (وزن ظرف خالی پس از احتراق):</label>
                        <input type="text" id="W1_roi" name="W1_roi" class="ltr-text shadow appearance-none border border-gray-300 bg-white rounded w-64 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline my-2">
                    </div>
                    <div>
                        <label for="W2_roi" class="block text-gray-700 text-sm font-bold mb-1">W2 (وزن نمونه):</label>
                        <input type="text" id="W2_roi" name="W2_roi" class="ltr-text shadow appearance-none border border-gray-300 bg-white rounded w-64 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline my-2">
                    </div>
                    <div>
                        <label for="W3_roi" class="block text-gray-700 text-sm font-bold mb-1">W3 (وزن ظرف خالی + باقیمانده پس از احتراق):</label>
                        <input type="text" id="W3_roi" name="W3_roi" class="ltr-text shadow appearance-none border border-gray-300 bg-white rounded w-64 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline my-2">
                    </div>
                    <button class="calculation-button mt-4" onclick="calculateRoi()">محاسبه</button>
                    <div class="mt-4">
                        <p>نتیجه: <span id="roiResult" class="font-bold"></span></p>
                        <p>وضعیت: <span id="roiStatus" class="font-bold"></span></p>
                    </div>
                    <div>
                        <label for="additional-spec-roi" class="block text-gray-700 text-sm font-bold my-2">توضیحات اضافه / Additional Specifications:</label>
                        <textarea id="additional-spec-roi" name="additional-spec-roi" rows="3" class="additional-spec-input shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"></textarea>
                    </div>
                </div>

                <h4 class="text-lg font-semibold text-gray-700 mt-3 mb-2">• ترکیبات مرتبط</h4>
                <p class="mb-4"><span class="ltr-text">3 N</span> اسید فسفریک، <span class="ltr-text">6 N</span> آمونیوم هیدروکسید، محلول استاندارد داخلی، محلول استوک استاندارد، محلول استاندارد و سیستم کروماتوگرافی: طبق روش در سنجش ادامه دهید.</p>
                <p class="mb-4">محلول نمونه: از محلول استوک نمونه، تهیه شده طبق روش در سنجش، استفاده کنید.</p>
                <h4 class="text-lg font-semibold text-gray-700 mt-3 mb-2">تجزیه و تحلیل</h4>
                <p class="mb-4">نمونه: محلول نمونه</p>
                <p class="mb-4">اجازه دهید محلول نمونه برای مدت زمان <span class="ltr-text">NLT 2</span> برابر زمان بازداری اسید فولیک الیوت شود. کروماتوگرام را ثبت کرده و مساحت تمام پیک‌ها را اندازه‌گیری کنید.</p>
                <p class="mb-4">درصد کل پیک‌های ثانویه را در بخش اسید فولیک گرفته شده محاسبه کنید:</p>
                <div class="formula-display">
                    <code class="math-tex">$$Result = (rU / rT) \times 100$$</code>
                </div>
                <p class="mb-4"><span class="ltr-text">rU</span> = مجموع مساحت تمام پیک‌ها به جز پیک اسید فولیک</p>
                <p class="mb-4"><span class="ltr-text">rT</span> = مجموع مساحت تمام پیک‌ها</p>
                <p class="mb-4">معیارهای پذیرش: <span class="ltr-text">NMT 2.0%</span></p>

                <div class="card interactive-card">
                    <h3 class="text-xl font-semibold text-blue-600 mb-2">حد ترکیبات مرتبط</h3>
                    <div class="formula-display">
                        <code class="math-tex">$$Result = (rU / rT) \times 100$$</code>
                    </div>
                    <div>
                        <label for="rU_related" class="block text-gray-700 text-sm font-bold mb-1">rU (مجموع مساحت پیک‌های ثانویه):</label>
                        <input type="text" id="rU_related" name="rU_related" class="ltr-text shadow appearance-none border border-gray-300 bg-white rounded w-64 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline my-2">
                    </div>
                    <div>
                        <label for="rT_related" class="block text-gray-700 text-sm font-bold mb-1">rT (مجموع مساحت تمام پیک‌ها):</label>
                        <input type="text" id="rT_related" name="rT_related" class="ltr-text shadow appearance-none border border-gray-300 bg-white rounded w-64 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline my-2">
                    </div>
                    <button class="calculation-button mt-4" onclick="calculateRelatedCompounds()">محاسبه</button>
                    <div class="mt-4">
                        <p>نتیجه: <span id="relatedCompoundsResult" class="font-bold"></span></p>
                        <p>وضعیت: <span id="relatedCompoundsStatus" class="font-bold"></span></p>
                    </div>
                    <div>
                        <label for="additional-spec-related" class="block text-gray-700 text-sm font-bold my-2">توضیحات اضافه / Additional Specifications:</label>
                        <textarea id="additional-spec-related" name="additional-spec-related" rows="3" class="additional-spec-input shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"></textarea>
                    </div>
                </div>
            </div>
        </div>

        <div id="specific-tests" class="tab-content hidden">
            <div class="card">
                <h2 class="text-2xl font-semibold text-blue-600 mb-4">آزمایشات خاص</h2>
                <h4 class="text-lg font-semibold text-gray-700 mt-3 mb-2">• تعیین آب، روش I <span class="ltr-text">á921ñ</span></h4>
                <p class="mb-4">تجزیه و تحلیل: طبق روش ذکر شده در فصل عمل کنید، به جز اینکه حلال متانول را قبل و در حین افزودن نمونه آزمایش و در طول تیتراسیون هم بزنید.</p>
                <p class="mb-4">معیارهای پذیرش: <span class="ltr-text">NMT 8.5%</span></p>

                <div class="card interactive-card">
                    <h3 class="text-xl font-semibold text-blue-600 mb-2">تعیین آب</h3>
                    <p>این آزمون دارای فرمول محاسبه خاصی در متن USP نیست. لطفاً وضعیت را انتخاب کنید.</p>
                    <div class="mt-4">
                        <label for="water-determination-status" class="block text-gray-700 text-sm font-bold mb-1">وضعیت:</label>
                        <select id="water-determination-status" name="water-determination-status" class="status-dropdown shadow appearance-none border border-gray-300 bg-white rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline w-48">
                            <option value=""></option>
                            <option value="Pass">Pass</option>
                            <option value="Fail">Fail</option>
                        </select>
                    </div>
                    <div>
                        <label for="additional-spec-water" class="block text-gray-700 text-sm font-bold my-2">توضیحات اضافه / Additional Specifications:</label>
                        <textarea id="additional-spec-water" name="additional-spec-water" rows="3" class="additional-spec-input shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"></textarea>
                    </div>
                </div>
            </div>
        </div>

        <div id="additional-requirements" class="tab-content hidden">
            <div class="card">
                <h2 class="text-2xl font-semibold text-blue-600 mb-4">الزامات اضافی</h2>
                <h4 class="text-lg font-semibold text-gray-700 mt-3 mb-2">• بسته‌بندی و نگهداری</h4>
                <p class="mb-4">در ظروف دربسته، مقاوم در برابر نور نگهداری شود.</p>
                <h4 class="text-lg font-semibold text-gray-700 mt-3 mb-2">• استانداردهای مرجع USP <span class="ltr-text">á11ñ</span></h4>
                <p class="mb-4">USP Folic Acid RS</p>
            </div>
        </div>
    </div>

    <script>
        function showTab(tabId) {
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(tab => tab.classList.add('hidden'));

            const tabButtons = document.querySelectorAll('.tab-button');
            tabButtons.forEach(button => button.classList.remove('tab-active'));
            tabButtons.forEach(button => button.classList.add('tab-inactive'));

            document.getElementById(tabId).classList.remove('hidden');
            document.querySelector(`.tab-button[onclick="showTab('${tabId}')"]`).classList.remove('tab-inactive');
            document.querySelector(`.tab-button[onclick="showTab('${tabId}')"]`).classList.add('tab-active');
        }

        function updateStatus(elementId, value, limit) {
            const statusElement = document.getElementById(elementId);
            if (value !== null && limit !== null) {
                if (value <= limit) {
                    statusElement.textContent = 'Pass';
                    statusElement.className = 'font-bold pass-text';
                } else {
                    statusElement.textContent = 'Fail';
                    statusElement.className = 'font-bold fail-text';
                }
            } else {
                 statusElement.textContent = '';
                 statusElement.className = 'font-bold';
            }
        }

        function calculateAssay() {
            const RU = parseFloat(document.getElementById('RU').value);
            const RS = parseFloat(document.getElementById('RS').value);
            const CS = parseFloat(document.getElementById('CS').value);
            const CU = parseFloat(document.getElementById('CU').value);

            const assayResultElement = document.getElementById('assayResult');
            const assayStatusElement = document.getElementById('assayStatus');

            if (!isNaN(RU) && !isNaN(RS) && !isNaN(CS) && !isNaN(CU) && RS !== 0) {
                const result = (RU / RS) * (CS / CU) * 100;
                assayResultElement.textContent = `${result.toFixed(2)}%`;

                const limitLow = 97.0;
                const limitHigh = 102.0;

                if (result >= limitLow && result <= limitHigh) {
                    assayStatusElement.textContent = 'Pass';
                    assayStatusElement.className = 'font-bold pass-text';
                } else {
                    assayStatusElement.textContent = 'Fail';
                    assayStatusElement.className = 'font-bold fail-text';
                }
            } else {
                assayResultElement.textContent = 'لطفاً مقادیر معتبر وارد کنید.';
                assayStatusElement.textContent = '';
            }
        }

        function calculateRoi() {
            const W1 = parseFloat(document.getElementById('W1_roi').value);
            const W2 = parseFloat(document.getElementById('W2_roi').value);
            const W3 = parseFloat(document.getElementById('W3_roi').value);

            const roiResultElement = document.getElementById('roiResult');
            const roiStatusElement = document.getElementById('roiStatus');

            if (!isNaN(W1) && !isNaN(W2) && !isNaN(W3) && W2 !== 0) {
                const result = ((W3 - W1) / W2) * 100;
                roiResultElement.textContent = `${result.toFixed(2)}%`;

                const limit = 0.3;
                updateStatus('roiStatus', result, limit);

            } else {
                roiResultElement.textContent = 'لطفاً مقادیر معتبر وارد کنید.';
                roiStatusElement.textContent = '';
            }
        }

        function calculateRelatedCompounds() {
            const rU = parseFloat(document.getElementById('rU_related').value);
            const rT = parseFloat(document.getElementById('rT_related').value);

            const relatedCompoundsResultElement = document.getElementById('relatedCompoundsResult');
            const relatedCompoundsStatusElement = document.getElementById('relatedCompoundsStatus');

            if (!isNaN(rU) && !isNaN(rT) && rT !== 0) {
                const result = (rU / rT) * 100;
                relatedCompoundsResultElement.textContent = `${result.toFixed(2)}%`;

                const limit = 2.0;
                updateStatus('relatedCompoundsStatus', result, limit);

            } else {
                relatedCompoundsResultElement.textContent = 'لطفاً مقادیر معتبر وارد کنید.';
                relatedCompoundsStatusElement.textContent = '';
            }
        }

    </script>
</body>
</html>