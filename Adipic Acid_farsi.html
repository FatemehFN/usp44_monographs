<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مونوگراف آدیپیک اسید (USP)</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Vazirmatn Font -->
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700&display=swap" rel="stylesheet">
    <!-- MathJax -->
    <script type="text/javascript" id="MathJax-script" async
            src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>
    <style>
        body {
            font-family: 'Vazirmatn', sans-serif;
            background-color: #f8fafc;
            color: #333;
        }
        .tab-active {
            border-color: #3b82f6;
            color: #3b82f6;
            font-weight: bold;
        }
        .tab-inactive {
            border-color: transparent;
            color: #6b7280;
        }
        .card {
            background-color: #fff;
            border-radius: 0.5rem;
            padding: 1.5rem;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
        }
        .ltr-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        table {
            width: 100%;
            margin-left: auto;
            margin-right: auto;
            direction: rtl;
            text-align: center;
            border-collapse: collapse;
            margin-top: 1rem;
            margin-bottom: 1rem;
        }
        table th, table td {
            border: 1px solid #e2e8f0;
            padding: 0.75rem;
            text-align: center;
        }
        table th {
            background-color: #f1f5f9;
            font-weight: bold;
        }
        .formula-display {
            display: flex;
            justify-content: center;
            margin-top: 1rem;
            margin-bottom: 1rem;
            direction: ltr;
        }
        .pass-text {
            color: #22c55e;
        }
        .fail-text {
            color: #ef4444;
        }
        .interactive-card {
            background-color: #e0f2fe;
            border: 1px solid #90cdf4;
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 0.5rem;
        }
        .calculation-button {
            background-color: #2563eb;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            font-weight: bold;
            cursor: pointer;
            border: none;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">
    <div class="container mx-auto p-4 max-w-4xl">
        <h1 class="text-3xl font-bold text-center text-blue-700 mb-6">آدیپیک اسید</h1>
        <p class="text-center text-lg mb-6">
            <span class="ltr-text">C<small>6</small>H<small>10</small>O<small>4</small></span>
            <span class="ltr-text">146.14</span>
        </p>
        <p class="text-center text-lg mb-6">
            <span class="ltr-text">Hexanedioic acid;</span>
            <span class="ltr-text">1,4-Butanedicarboxylic acid [<span class="ltr-text">124-04-9</span>].</span>
        </p>

        <div class="flex justify-center mb-6 border-b border-gray-200">
            <button class="tab-button py-2 px-4 border-b-2 tab-active" data-tab="definition">تعریف</button>
            <button class="tab-button py-2 px-4 border-b-2 tab-inactive" data-tab="identification">شناسایی</button>
            <button class="tab-button py-2 px-4 border-b-2 tab-inactive" data-tab="assay">سنجش</button>
            <button class="tab-button py-2 px-4 border-b-2 tab-inactive" data-tab="impurities">ناخالصی‌ها</button>
            <button class="tab-button py-2 px-4 border-b-2 tab-inactive" data-tab="specific-tests">آزمایشات خاص</button>
            <button class="tab-button py-2 px-4 border-b-2 tab-inactive" data-tab="additional-requirements">الزامات اضافی</button>
        </div>

        <div id="definition" class="tab-content card">
            <h2 class="text-2xl font-semibold text-blue-600 mb-4">تعریف</h2>
            <p class="mb-4">آدیپیک اسید حاوی نه کمتر از <span class="ltr-text">99.0%</span> و نه بیشتر از <span class="ltr-text">101.0%</span> از <span class="ltr-text">C<small>6</small>H<small>10</small>O<small>4</small></span>، محاسبه شده بر اساس خشک می‌باشد.</p>
        </div>

        <div id="identification" class="tab-content card hidden">
            <h2 class="text-2xl font-semibold text-blue-600 mb-4">شناسایی</h2>
            <h3 class="text-xl font-semibold text-blue-600 mb-2">برای مطالعه تغییر:</h3>
            <h4 class="text-lg font-semibold text-gray-700 mt-3 mb-2">A. آزمایشات شناسایی اسپکتروسکوپی <a href="General chapters/197.pdf" class="text-blue-600 hover:underline" target="_blank">197</a>، طیف‌سنجی مادون قرمز: <span class="ltr-text">197K</span></h4>
        </div>

        <div id="assay" class="tab-content card hidden">
            <h2 class="text-2xl font-semibold text-blue-600 mb-4">سنجش</h2>
            <h4 class="text-lg font-semibold text-gray-700 mt-3 mb-2">رویه</h4>
            <p><strong>نمونه:</strong> <span class="ltr-text">60 mg</span></p>
            <h4 class="text-lg font-semibold text-gray-700 mt-3 mb-2">سیستم تیتراسیون</h4>
            <p>(به تیتراسیون <a href="General chapters/541.pdf" class="text-blue-600 hover:underline" target="_blank">541</a> مراجعه کنید.)</p>
            <ul>
                <li><strong>حالت:</strong> تیتراسیون مستقیم</li>
                <li><strong>تیترانت:</strong> <span class="ltr-text">0.1 N</span> سدیم هیدروکسید <span class="ltr-text">VS</span></li>
                <li><strong>بلانک:</strong> <span class="ltr-text">50.0 mL</span> آب</li>
                <li><strong>تشخیص نقطه پایانی:</strong> رنگ‌سنجی</li>
            </ul>
            <p><strong>تحلیل:</strong> نمونه را در <span class="ltr-text">50 mL</span> آب حل کنید. <span class="ltr-text">0.2 mL</span> فنل‌فتالئین <span class="ltr-text">TS</span> را اضافه کنید و با <span class="ltr-text">0.1 N</span> سدیم هیدروکسید <span class="ltr-text">VS</span> تا یک نقطه پایانی صورتی کم‌رنگ دائم تیتراسیون کنید. تعیین بلانک را انجام دهید. درصد آدیپیک اسید (<span class="ltr-text">C<small>6</small>H<small>10</small>O<small>4</small></span>) را در نمونه گرفته شده محاسبه کنید:</p>

            <div class="formula-display">
                $$Result = \frac{[(V - B) \times N \times F \times 100]}{W}$$
            </div>
            <ul>
                <li><span class="ltr-text">V</span> = حجم تیترانت مصرف شده توسط نمونه (<span class="ltr-text">mL</span>)</li>
                <li><span class="ltr-text">B</span> = حجم تیترانت مصرف شده توسط بلانک (<span class="ltr-text">mL</span>)</li>
                <li><span class="ltr-text">N</span> = نرمالیته واقعی تیترانت (<span class="ltr-text">mEq/mL</span>)</li>
                <li><span class="ltr-text">F</span> = فاکتور معادل، <span class="ltr-text">73.1 mg/mEq</span></li>
                <li><span class="ltr-text">W</span> = وزن نمونه (<span class="ltr-text">mg</span>)</li>
            </ul>
            <p><strong>معیارهای پذیرش:</strong> <span class="ltr-text">99.0%</span>–<span class="ltr-text">101.0%</span> بر اساس خشک</p>

            <!-- Assay Interactive Card -->
            <div class="card interactive-card">
                <h3>ماشین حساب سنجش</h3>
                <div class="mb-2">
                    <label for="assay_V" class="block text-gray-700 text-sm font-bold mb-2">V (mL):</label>
                    <input type="text" id="assay_V" name="assay_V" class="ltr-text shadow appearance-none border border-gray-300 bg-white rounded w-64 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline my-2">
                </div>
                <div class="mb-2">
                    <label for="assay_B" class="block text-gray-700 text-sm font-bold mb-2">B (mL):</label>
                    <input type="text" id="assay_B" name="assay_B" class="ltr-text shadow appearance-none border border-gray-300 bg-white rounded w-64 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline my-2">
                </div>
                <div class="mb-2">
                    <label for="assay_N" class="block text-gray-700 text-sm font-bold mb-2">N (mEq/mL):</label>
                    <input type="text" id="assay_N" name="assay_N" class="ltr-text shadow appearance-none border border-gray-300 bg-white rounded w-64 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline my-2">
                </div>
                <div class="mb-2">
                    <label for="assay_F" class="block text-gray-700 text-sm font-bold mb-2">F (mg/mEq):</label>
                    <input type="text" id="assay_F" name="assay_F" class="ltr-text shadow appearance-none border border-gray-300 bg-white rounded w-64 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline my-2" value="73.1">
                </div>
                <div class="mb-2">
                    <label for="assay_W" class="block text-gray-700 text-sm font-bold mb-2">W (mg):</label>
                    <input type="text" id="assay_W" name="assay_W" class="ltr-text shadow appearance-none border border-gray-300 bg-white rounded w-64 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline my-2" value="60">
                </div>
                <button class="calculation-button" onclick="calculateAssay()">محاسبه</button>
                <div class="mt-4">
                    <strong>نتیجه (%): </strong><span id="assay_result_percent" class="ltr-text"></span>
                </div>
                <div class="mt-2">
                    <strong>نتیجه (ppm): </strong><span id="assay_result_ppm" class="ltr-text"></span>
                </div>
                <div class="mt-2">
                    <strong>وضعیت: </strong><span id="assay_status"></span>
                </div>
                <div class="mt-4">
                    <label for="assay_spec_input" class="block text-gray-700 text-sm font-bold mb-2">توضیحات اضافه / Additional Specifications:</label>
                    <textarea id="assay_spec_input" class="additional-spec-input shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" rows="3"></textarea>
                </div>
            </div>
        </div>

        <div id="impurities" class="tab-content card hidden">
            <h2 class="text-2xl font-semibold text-blue-600 mb-4">ناخالصی‌ها</h2>

            <!-- Residue on Ignition -->
            <h4 class="text-lg font-semibold text-gray-700 mt-3 mb-2">باقیمانده پس از احتراق <a href="General chapters/281.pdf" class="text-blue-600 hover:underline" target="_blank">281</a></h4>
            <p>نه بیشتر از <span class="ltr-text">0.1%</span></p>
            <div class="card interactive-card">
                <h3>ماشین حساب باقیمانده پس از احتراق</h3>
                <div class="formula-display">
                    $$ROI = \frac{W_3 - W_1}{W_2} \times 100$$
                </div>
                <div class="mb-2">
                    <label for="roi_W1" class="block text-gray-700 text-sm font-bold mb-2">W1:</label>
                    <input type="text" id="roi_W1" name="roi_W1" class="ltr-text shadow appearance-none border border-gray-300 bg-white rounded w-64 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline my-2">
                </div>
                <div class="mb-2">
                    <label for="roi_W2" class="block text-gray-700 text-sm font-bold mb-2">W2:</label>
                    <input type="text" id="roi_W2" name="roi_W2" class="ltr-text shadow appearance-none border border-gray-300 bg-white rounded w-64 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline my-2">
                </div>
                <div class="mb-2">
                    <label for="roi_W3" class="block text-gray-700 text-sm font-bold mb-2">W3:</label>
                    <input type="text" id="roi_W3" name="roi_W3" class="ltr-text shadow appearance-none border border-gray-300 bg-white rounded w-64 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline my-2">
                </div>
                <button class="calculation-button" onclick="calculateROI()">محاسبه</button>
                <div class="mt-4">
                    <strong>نتیجه (%): </strong><span id="roi_result_percent" class="ltr-text"></span>
                </div>
                <div class="mt-2">
                    <strong>نتیجه (ppm): </strong><span id="roi_result_ppm" class="ltr-text"></span>
                </div>
                <div class="mt-2">
                    <strong>وضعیت: </strong><span id="roi_status"></span>
                </div>
                <div class="mt-4">
                    <label for="roi_spec_input" class="block text-gray-700 text-sm font-bold mb-2">توضیحات اضافه / Additional Specifications:</label>
                    <textarea id="roi_spec_input" class="additional-spec-input shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" rows="3"></textarea>
                </div>
            </div>

            <!-- Limit of Nitrates -->
            <h4 class="text-lg font-semibold text-gray-700 mt-3 mb-2">حد نیترات‌ها</h4>
            <p><strong>محلول استوک استاندارد:</strong> <span class="ltr-text">1.63 mg/mL</span> پتاسیم نیترات</p>
            <p><strong>محلول استاندارد:</strong> <span class="ltr-text">1 mL</span> از محلول استوک استاندارد را با آب تا <span class="ltr-text">10 mL</span> رقیق کنید. <span class="ltr-text">1 mL</span> از این محلول را با آب تا <span class="ltr-text">50 mL</span> رقیق کنید تا محلولی حاوی <span class="ltr-text">2 µg/mL</span> نیترات به دست آید.</p>
            <p><strong>محلول نمونه:</strong> <span class="ltr-text">5 g</span> آدیپیک اسید را به یک بالن حجمی <span class="ltr-text">50 mL</span> منتقل کنید. با حرارت دادن در آب حل کنید و با آب تا حجم برسانید. اجازه دهید سرد شود و کریستالیزه شود، سپس از یک فیلتر شیشه‌ای سینتری شده عبور دهید. فیلتر را با آب بشویید و فیلتر و آب‌شویی‌ها را جمع‌آوری کنید تا حجمی معادل <span class="ltr-text">50 mL</span> به دست آید. [توجه: این محلول برای کلرید، سولفات و آهن نیز استفاده می‌شود.]</p>
            <p><strong>کنترل:</strong> <span class="ltr-text">2 mg/L</span> پتاسیم پرمنگنات</p>
            <p><strong>تحلیل:</strong> <span class="ltr-text">1.0 mL</span> از محلول نمونه، <span class="ltr-text">1.5 mL</span> از محلول استاندارد و <span class="ltr-text">1 mL</span> آب (بلانک) را به سه بالن جداگانه منتقل کنید. به هر بالن <span class="ltr-text">2 mL</span> آمونیاک غلیظ، <span class="ltr-text">0.5 mL</span> منگنز سولفات <span class="ltr-text">10 mg/mL</span> و <span class="ltr-text">1 mL</span> سولفانیل آمید <span class="ltr-text">10 mg/mL</span> اضافه کنید و هر محلول را با آب تا <span class="ltr-text">20 mL</span> رقیق کنید. <span class="ltr-text">100 mg</span> پودر روی به هر یک از سه بالن اضافه کنید و به مدت <span class="ltr-text">30 min</span> در حمام یخ خنک کنید، محلول‌ها را به صورت دوره‌ای تکان دهید. به صورت جداگانه <span class="ltr-text">10 mL</span> از هر محلول را فیلتر کنید، در حمام یخ خنک کنید، و سپس <span class="ltr-text">2.5 mL</span> اسید هیدروکلریک و <span class="ltr-text">1 mL</span> دی‌هیدروکلرید نفتال‌اتیلن‌دی‌آمین <span class="ltr-text">10 mg/mL</span> اضافه کنید. اجازه دهید محلول‌ها به مدت <span class="ltr-text">15 min</span> در دمای اتاق بمانند.</p>
            <p><strong>مناسب بودن سیستم:</strong> آزمایش نامعتبر است اگر محلول بلانک تهیه شده همزمان تیره‌تر از کنترل باشد.</p>
            <p><strong>معیارهای پذیرش:</strong> رنگ محلول حاوی محلول نمونه تیره‌تر از محلول تهیه شده همزمان حاوی محلول استاندارد نباشد (نه بیشتر از <span class="ltr-text">30 ppm</span>).</p>
            <div class="card interactive-card">
                <h3>وضعیت حد نیترات‌ها</h3>
                <div class="mb-2">
                    <label for="nitrates_status" class="block text-gray-700 text-sm font-bold mb-2">وضعیت:</label>
                    <select id="nitrates_status" name="nitrates_status" class="status-dropdown shadow appearance-none border border-gray-300 bg-white rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline w-48">
                        <option value=""></option>
                        <option value="Pass">Pass</option>
                        <option value="Fail">Fail</option>
                    </select>
                </div>
                <div class="mt-4">
                    <label for="nitrates_spec_input" class="block text-gray-700 text-sm font-bold mb-2">توضیحات اضافه / Additional Specifications:</label>
                    <textarea id="nitrates_spec_input" class="additional-spec-input shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" rows="3"></textarea>
                </div>
            </div>

            <!-- Chloride and Sulfate, Chloride -->
            <h4 class="text-lg font-semibold text-gray-700 mt-3 mb-2">کلرید و سولفات، کلرید <a href="General chapters/221.pdf" class="text-blue-600 hover:underline" target="_blank">221</a></h4>
            <p><strong>نمونه:</strong> بخش <span class="ltr-text">5 mL</span> از محلول نمونه از حد نیترات‌ها</p>
            <p><strong>تحلیل:</strong> طبق دستورالعمل در فصل عمل کنید.</p>
            <p><strong>معیارهای پذیرش:</strong> نمونه بیشتر از <span class="ltr-text">0.14 mL</span> از <span class="ltr-text">0.020 N</span> اسید هیدروکلریک مربوطه کلرید نشان نمی‌دهد (نه بیشتر از <span class="ltr-text">0.02%</span>).</p>
            <div class="card interactive-card">
                <h3>وضعیت کلرید</h3>
                <div class="mb-2">
                    <label for="chloride_status" class="block text-gray-700 text-sm font-bold mb-2">وضعیت:</label>
                    <select id="chloride_status" name="chloride_status" class="status-dropdown shadow appearance-none border border-gray-300 bg-white rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline w-48">
                        <option value=""></option>
                        <option value="Pass">Pass</option>
                        <option value="Fail">Fail</option>
                    </select>
                </div>
                <div class="mt-4">
                    <label for="chloride_spec_input" class="block text-gray-700 text-sm font-bold mb-2">توضیحات اضافه / Additional Specifications:</label>
                    <textarea id="chloride_spec_input" class="additional-spec-input shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" rows="3"></textarea>
                </div>
            </div>

            <!-- Chloride and Sulfate, Sulfate -->
            <h4 class="text-lg font-semibold text-gray-700 mt-3 mb-2">کلرید و سولفات، سولفات <a href="General chapters/221.pdf" class="text-blue-600 hover:underline" target="_blank">221</a></h4>
            <p><strong>نمونه:</strong> بخش <span class="ltr-text">5 mL</span> از محلول نمونه از حد نیترات‌ها</p>
            <p><strong>تحلیل:</strong> طبق دستورالعمل در فصل عمل کنید.</p>
            <p><strong>معیارهای پذیرش:</strong> نمونه بیشتر از <span class="ltr-text">0.26 mL</span> از <span class="ltr-text">0.020 N</span> اسید سولفوریک مربوطه سولفات نشان نمی‌دهد (نه بیشتر از <span class="ltr-text">0.05%</span>).</p>
            <div class="card interactive-card">
                <h3>وضعیت سولفات</h3>
                <div class="mb-2">
                    <label for="sulfate_status" class="block text-gray-700 text-sm font-bold mb-2">وضعیت:</label>
                    <select id="sulfate_status" name="sulfate_status" class="status-dropdown shadow appearance-none border border-gray-300 bg-white rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline w-48">
                        <option value=""></option>
                        <option value="Pass">Pass</option>
                        <option value="Fail">Fail</option>
                    </select>
                </div>
                <div class="mt-4">
                    <label for="sulfate_spec_input" class="block text-gray-700 text-sm font-bold mb-2">توضیحات اضافه / Additional Specifications:</label>
                    <textarea id="sulfate_spec_input" class="additional-spec-input shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" rows="3"></textarea>
                </div>
            </div>

            <!-- Iron -->
            <h4 class="text-lg font-semibold text-gray-700 mt-3 mb-2">آهن <a href="General chapters/241.pdf" class="text-blue-600 hover:underline" target="_blank">241</a></h4>
            <p><strong>نمونه:</strong> بخش <span class="ltr-text">10 mL</span> از محلول نمونه از حد نیترات‌ها</p>
            <p><strong>تحلیل:</strong> طبق دستورالعمل در فصل عمل کنید.</p>
            <p><strong>معیارهای پذیرش:</strong> نه بیشتر از <span class="ltr-text">10 ppm</span></p>
            <div class="card interactive-card">
                <h3>وضعیت آهن</h3>
                <div class="mb-2">
                    <label for="iron_status" class="block text-gray-700 text-sm font-bold mb-2">وضعیت:</label>
                    <select id="iron_status" name="iron_status" class="status-dropdown shadow appearance-none border border-gray-300 bg-white rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline w-48">
                        <option value=""></option>
                        <option value="Pass">Pass</option>
                        <option value="Fail">Fail</option>
                    </select>
                </div>
                <div class="mt-4">
                    <label for="iron_spec_input" class="block text-gray-700 text-sm font-bold mb-2">توضیحات اضافه / Additional Specifications:</label>
                    <textarea id="iron_spec_input" class="additional-spec-input shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" rows="3"></textarea>
                </div>
            </div>
        </div>

        <div id="specific-tests" class="tab-content card hidden">
            <h2 class="text-2xl font-semibold text-blue-600 mb-4">آزمایشات خاص</h2>

            <!-- Melting Range or Temperature -->
            <h4 class="text-lg font-semibold text-gray-700 mt-3 mb-2">محدوده یا دمای ذوب <a href="General chapters/741.pdf" class="text-blue-600 hover:underline" target="_blank">741</a></h4>
            <p><span class="ltr-text">151°</span>–<span class="ltr-text">154°</span></p>
            <div class="card interactive-card">
                <h3>وضعیت محدوده یا دمای ذوب</h3>
                <div class="mb-2">
                    <label for="melting_status" class="block text-gray-700 text-sm font-bold mb-2">وضعیت:</label>
                    <select id="melting_status" name="melting_status" class="status-dropdown shadow appearance-none border border-gray-300 bg-white rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline w-48">
                        <option value=""></option>
                        <option value="Pass">Pass</option>
                        <option value="Fail">Fail</option>
                    </select>
                </div>
                <div class="mt-4">
                    <label for="melting_spec_input" class="block text-gray-700 text-sm font-bold mb-2">توضیحات اضافه / Additional Specifications:</label>
                    <textarea id="melting_spec_input" class="additional-spec-input shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" rows="3"></textarea>
                </div>
            </div>

            <!-- Loss on Drying -->
            <h4 class="text-lg font-semibold text-gray-700 mt-3 mb-2">افت در خشکانیدن <a href="General chapters/731.pdf" class="text-blue-600 hover:underline" target="_blank">731</a></h4>
            <p>نمونه‌ای را در <span class="ltr-text">105°</span> تا وزن ثابت خشک کنید؛ بیش از <span class="ltr-text">0.2%</span> از وزن خود را از دست نمی‌دهد.</p>
            <div class="card interactive-card">
                <h3>ماشین حساب افت در خشکانیدن</h3>
                <div class="formula-display">
                    $$LOD = \frac{(W_1 + W_{sa}) - W_2}{W_{sa}} \times 100$$
                </div>
                <div class="mb-2">
                    <label for="lod_W1" class="block text-gray-700 text-sm font-bold mb-2">W1:</label>
                    <input type="text" id="lod_W1" name="lod_W1" class="ltr-text shadow appearance-none border border-gray-300 bg-white rounded w-64 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline my-2">
                </div>
                <div class="mb-2">
                    <label for="lod_Wsa" class="block text-gray-700 text-sm font-bold mb-2">Wsa:</label>
                    <input type="text" id="lod_Wsa" name="lod_Wsa" class="ltr-text shadow appearance-none border border-gray-300 bg-white rounded w-64 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline my-2">
                </div>
                <div class="mb-2">
                    <label for="lod_W2" class="block text-gray-700 text-sm font-bold mb-2">W2:</label>
                    <input type="text" id="lod_W2" name="lod_W2" class="ltr-text shadow appearance-none border border-gray-300 bg-white rounded w-64 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline my-2">
                </div>
                <button class="calculation-button" onclick="calculateLOD()">محاسبه</button>
                <div class="mt-4">
                    <strong>نتیجه (%): </strong><span id="lod_result_percent" class="ltr-text"></span>
                </div>
                <div class="mt-2">
                    <strong>نتیجه (ppm): </strong><span id="lod_result_ppm" class="ltr-text"></span>
                </div>
                <div class="mt-2">
                    <strong>وضعیت: </strong><span id="lod_status"></span>
                </div>
                <div class="mt-4">
                    <label for="lod_spec_input" class="block text-gray-700 text-sm font-bold mb-2">توضیحات اضافه / Additional Specifications:</label>
                    <textarea id="lod_spec_input" class="additional-spec-input shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" rows="3"></textarea>
                </div>
            </div>
        </div>

        <div id="additional-requirements" class="tab-content card hidden">
            <h2 class="text-2xl font-semibold text-blue-600 mb-4">الزامات اضافی</h2>
            <h4 class="text-lg font-semibold text-gray-700 mt-3 mb-2">بسته‌بندی و نگهداری</h4>
            <p>در ظروف محکم نگهداری شود. الزامات نگهداری مشخص نشده است.</p>
            <h4 class="text-lg font-semibold text-gray-700 mt-3 mb-2">استانداردهای مرجع <span class="ltr-text">USP</span> <a href="General chapters/11.pdf" class="text-blue-600 hover:underline" target="_blank">11</a></h4>
            <ul>
                <li>استاندارد مرجع آدیپیک اسید <span class="ltr-text">USP</span></li>
            </ul>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const tabs = document.querySelectorAll('.tab-button');
            const contents = document.querySelectorAll('.tab-content');

            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    // Remove active class from all tabs
                    tabs.forEach(t => t.classList.remove('tab-active'));
                    tabs.forEach(t => t.classList.add('tab-inactive'));

                    // Add active class to clicked tab
                    tab.classList.remove('tab-inactive');
                    tab.classList.add('tab-active');

                    // Hide all content divs
                    contents.forEach(content => content.classList.add('hidden'));

                    // Show content for the clicked tab
                    const targetTab = tab.dataset.tab;
                    document.getElementById(targetTab).classList.remove('hidden');

                    // Re-render MathJax in the newly visible tab
                    MathJax.typeset();
                });
            });

            // Initial MathJax render
            MathJax.typeset();
        });

        // Helper function to safely parse float
        function parseFloatSafe(value) {
            const num = parseFloat(value);
            return isNaN(num) ? 0 : num;
        }

        function updateResult(resultSpanId, statusSpanId, result, lowerLimit, upperLimit) {
            const resultElement = document.getElementById(resultSpanId);
            const statusElement = document.getElementById(statusSpanId);
            const resultPpmElement = document.getElementById(resultSpanId.replace('_percent', '_ppm')); // PPM span

            resultElement.textContent = result.toFixed(4) + '%';
            
            // Calculate and display PPM
            const ppm = (result / 100) * 1_000_000;
            if (resultPpmElement) {
                resultPpmElement.textContent = ppm.toFixed(2) + ' ppm';
            }

            statusElement.classList.remove('pass-text', 'fail-text');
            if (result >= lowerLimit && result <= upperLimit) {
                statusElement.textContent = 'Pass';
                statusElement.classList.add('pass-text');
            } else {
                statusElement.textContent = 'Fail';
                statusElement.classList.add('fail-text');
            }
        }

        // Assay Calculation
        function calculateAssay() {
            const V = parseFloatSafe(document.getElementById('assay_V').value);
            const B = parseFloatSafe(document.getElementById('assay_B').value);
            const N = parseFloatSafe(document.getElementById('assay_N').value);
            const F = parseFloatSafe(document.getElementById('assay_F').value);
            const W = parseFloatSafe(document.getElementById('assay_W').value);

            if (W === 0) {
                alert('وزن نمونه (W) نمی‌تواند صفر باشد.');
                return;
            }

            const result = (((V - B) * N * F * 100) / W);
            updateResult('assay_result_percent', 'assay_status', result, 99.0, 101.0);
        }

        // Residue on Ignition (ROI) Calculation
        function calculateROI() {
            const W1 = parseFloatSafe(document.getElementById('roi_W1').value);
            const W2 = parseFloatSafe(document.getElementById('roi_W2').value);
            const W3 = parseFloatSafe(document.getElementById('roi_W3').value);

            if (W2 === 0) {
                alert('W2 نمی‌تواند صفر باشد.');
                return;
            }

            const result = ((W3 - W1) / W2) * 100;
            updateResult('roi_result_percent', 'roi_status', result, 0.0, 0.1); // NMT 0.1%
        }

        // Loss on Drying (LOD) Calculation
        function calculateLOD() {
            const W1 = parseFloatSafe(document.getElementById('lod_W1').value);
            const Wsa = parseFloatSafe(document.getElementById('lod_Wsa').value);
            const W2 = parseFloatSafe(document.getElementById('lod_W2').value);

            if (Wsa === 0) {
                alert('Wsa نمی‌تواند صفر باشد.');
                return;
            }

            const result = (((W1 + Wsa) - W2) / Wsa) * 100;
            updateResult('lod_result_percent', 'lod_status', result, 0.0, 0.2); // NMT 0.2%
        }
    </script>
</body>
</html>